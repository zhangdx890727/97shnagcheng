angular.module("myApp",["ionic","myApp.slideBox","myApp.httpFactory","myApp.tabs","myApp.home","myApp.integral","myApp.league","myApp.person","myApp.homeDetail"]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(o,e,n){n.tabs.position("bottom"),n.tabs.style("standard"),n.navBar.alignTitle("center"),o.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"}),e.otherwise("/tabs/home")}]),angular.module("myApp.home",[]).config(["$stateProvider",function(o){o.state("tabs.home",{url:"/home",views:{"tabs-home":{templateUrl:"home.html",controller:"homeController"}}})}]).controller("homeController",["$scope","$location","$ionicViewSwitcher","$ionicModal","$timeout","HttpFactory",function(o,e,n,t,r,a){o.home={bannumArray:[],goodsArray:[]},o.slidBox=!0;var l=function(){o.slidBox=!1;var e="http://114.112.94.166/sunny/wap/api/getGoods";a.getData(e).then(function(e){console.log(e),o.slidBox=!0,o.home.bannumArray=e.bannerData,console.log(o.home.bannumArray),o.home.goodsArray=e.goodsData,console.log(o.home.goodsArray)})};l(),o.doRefresh=function(){l(),o.$broadcast("scroll.refreshComplete")},o.isShowInfinite=!0,o.loadMore=function(){url="http://114.112.94.166/sunny/wap/api/getGoods",a.getData(url).then(function(e){o.home.goodsArray=o.home.goodsArray.concat(e.goodsData)}),o.$broadcast("scroll.infiniteScrollComplete")},o.goToHomeDetail=function(){e.path("/homeDetail"),n.nextDirection("forward")};var i=angular.element(document.getElementById("rong-widget-minbtn"));o.number=1,o.addBtn=function(){o.number++},o.reduceBtn=function(){o.number--,o.number<=1&&(o.number=1)},t.fromTemplateUrl("modalCart.html",{scope:o,animation:"slide-in-down"}).then(function(e){o.modal=e}),o.openModal=function(e){o.modal.show(),o.goods=e,i.css("display","none")},o.closeModal=function(){o.modal.hide(),r(function(){i.css("display","block")},300)},o.$on("$destroy",function(){o.modal.remove()}),o.doSearch=function(o){o?console.log("搜索关键字为："+o):console.log("搜索值为空")},o.addToShopCart=function(){console.log("加入购物车")},o.purchaseNow=function(){console.log("立即购买")}}]),angular.module("myApp.homeDetail",[]).config(["$stateProvider",function(o){o.state("homeDetail",{url:"/homeDetail",templateUrl:"homeDetail.html",controller:"homeDetailController"})}]).controller("homeDetailController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.integral",[]).config(["$stateProvider",function(o){o.state("tabs.integral",{url:"/integral",views:{"tabs-integral":{templateUrl:"integral.html",controller:"integralController"}}})}]).controller("integralController",["$scope","$ionicModal","$ionicViewSwitcher","$location","$timeout","HttpFactory",function(o,e,n,t,r,a){o.integral={bannumArray:[],goodsArray:[]},o.slidBox=!0;var l=function(){o.slidBox=!1;var e="http://114.112.94.166/sunny/wap/api/getGoods";a.getData(e).then(function(e){console.log(e),o.slidBox=!0,o.integral.bannumArray=e.bannerData,console.log(o.integral.bannumArray),o.integral.goodsArray=e.goodsData,console.log(o.integral.goodsArray)})};l(),o.doRefresh=function(){l(),o.$broadcast("scroll.refreshComplete")},o.isShowInfinite=!0,o.loadMore=function(){url="http://114.112.94.166/sunny/wap/api/getGoods",a.getData(url).then(function(e){o.integral.goodsArray=o.integral.goodsArray.concat(e.goodsData)}),o.$broadcast("scroll.infiniteScrollComplete")},o.goToHomeDetail=function(){t.path("/homeDetail"),n.nextDirection("forward")};var i=angular.element(document.getElementById("rong-widget-minbtn"));o.number=1,o.addBtn=function(){o.number++,o.number>=o.goods.goods_number&&(o.number=o.goods.goods_number)},o.reduceBtn=function(){o.number--,o.number<=1&&(o.number=1)},e.fromTemplateUrl("modalCart.html",{scope:o,animation:"slide-in-down"}).then(function(e){o.modal=e}),o.openModal=function(e){o.modal.show(),o.goods=e,i.css("display","none")},o.closeModal=function(){o.modal.hide(),r(function(){i.css("display","block")},300)},o.$on("$destroy",function(){o.modal.remove()}),o.doSearch=function(o){o?console.log("搜索关键字为："+o):console.log("搜索值为空")},o.addToShopCart=function(){console.log("加入购物车")},o.purchaseNow=function(){console.log("立即购买")}}]),angular.module("myApp.league",[]).config(["$stateProvider",function(o){o.state("tabs.league",{url:"/league",views:{"tabs-league":{templateUrl:"league.html",controller:"leagueController"}}})}]).controller("leagueController",["$scope",function(o){}]),angular.module("myApp.person",[]).config(["$stateProvider",function(o){o.state("tabs.person",{url:"/person",views:{"tabs-person":{templateUrl:"person.html",controller:"personController"}}})}]).controller("personController",["$scope",function(o){}]),angular.module("myApp.tabs",["RongWebIMWidget"]).config(["$stateProvider",function(o){}]).controller("tabsController",["$scope","$rootScope","$state","RongCustomerService",function(o,e,n,t){var r=document.body.offsetWidth,a=document.body.offsetHeight;t.init({appkey:"n19jmcy5n1aw9",token:"5wPyilUqfiVCKuenjsJMSRqsXqSVwrXS3ow63aC1R0gP1PRKFnyhlYCqB/LQOY1KaZWOXMFfVTN6evEm15oPpg==",customerServiceId:"KEFU148301012322381",style:{width:r,height:a},position:t.Position.right,reminder:" ",onSuccess:function(){var o=angular.element(document.getElementById("rong-widget-minbtn"));o.css("bottom","80px"),o.css("right","30px");var t=angular.element(document.getElementById("rong-sendBtn"));t.css("backgroundColor","deepskyblue");var r=angular.element(document.querySelector(".rongcloud-kefuChat"));r.css({background:'url("../images/icon.png")',backgroundPosition:"-75px"}),o.on("click",function(){e.hideTabs=!0}),RongWebIMWidget.onClose=function(){e.hideTabs=!1,n.reload()}}}),o.$on("$stateChangeSuccess",function(o,e){var n=angular.element(document.querySelector("#rong-widget-minbtn "));switch(e.url){case"/home":n.css("display","block");break;case"/integral":n.css("display","block");break;case"/homeDetail":n.css("display","block");break;case"/league":n.css("display","none");break;case"/person":n.css("display","none");break;default:n.css("display","none")}})}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(o,e){return{getData:function(n,t){if(n){var r=e.defer();return t=t?t:"GET",o({url:n,method:t,timeout:2e4}).then(function(o){o=o.data,r.resolve(o)},function(o){r.reject(o)}),r.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mgSlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},templateUrl:"slideBox.html",controller:["$scope","$ionicSlideBoxDelegate","$element",function(o,e,n){o.goToDetailView=function(o){console.log("进入详情页"+o)},o.$watch("sourceArray",function(e,n){e&&e.length&&(o.isShowSlideBox=!0)}),e.$getByHandle("mainSlideBox").enableSlide(!1),o.drag=function(o){e.$getByHandle("mainSlideBox").enableSlide(!1),o.stopPropagation()}}],replace:!0,link:function(o,e,n){}}}]);