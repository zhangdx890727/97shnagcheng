angular.module("myApp",["ionic","myApp.slideBox","myApp.httpFactory","myApp.tabs","myApp.home","myApp.integral","myApp.league","myApp.person","myApp.homeDetail","myApp.personOrder","myApp.personCollect","myApp.personShoppingCar","myApp.personIntegral","myApp.personAddress","myApp.personPay","myApp.personConcern"]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(o,e,n){n.tabs.position("bottom"),n.tabs.style("standard"),n.navBar.alignTitle("center"),o.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"}),e.otherwise("/tabs/home")}]),angular.module("myApp.home",[]).config(["$stateProvider",function(o){o.state("tabs.home",{url:"/home",views:{"tabs-home":{templateUrl:"home.html",controller:"homeController"}}})}]).controller("homeController",["$scope","$location","$ionicViewSwitcher","$ionicModal","$timeout","HttpFactory",function(o,e,n,r,t,l){o.home={bannumArray:[],goodsArray:[]},o.slidBox=!0;var a=function(){o.slidBox=!1;var e="http://114.112.94.166/sunny/wap/api/getGoods";l.getData(e).then(function(e){console.log(e),o.slidBox=!0,o.home.bannumArray=e.bannerData,console.log(o.home.bannumArray),o.home.goodsArray=e.goodsData,console.log(o.home.goodsArray)})};a(),o.doRefresh=function(){a(),o.$broadcast("scroll.refreshComplete")},o.isShowInfinite=!0,o.loadMore=function(){url="http://114.112.94.166/sunny/wap/api/getGoods",l.getData(url).then(function(e){o.home.goodsArray=o.home.goodsArray.concat(e.goodsData)}),o.$broadcast("scroll.infiniteScrollComplete")},o.goToHomeDetail=function(){e.path("/homeDetail"),n.nextDirection("forward")};var s=angular.element(document.getElementById("rong-widget-minbtn"));o.number=1,o.addBtn=function(){o.number++},o.reduceBtn=function(){o.number--,o.number<=1&&(o.number=1)},r.fromTemplateUrl("modalCart.html",{scope:o,animation:"slide-in-down"}).then(function(e){o.modal=e}),o.openModal=function(e){o.modal.show(),o.goods=e,s.css("display","none")},o.closeModal=function(){o.modal.hide(),t(function(){s.css("display","block")},300)},o.$on("$destroy",function(){o.modal.remove()}),o.doSearch=function(o){o?console.log("搜索关键字为："+o):console.log("搜索值为空")},o.addToShopCart=function(){console.log("加入购物车")},o.purchaseNow=function(){console.log("立即购买")}}]),angular.module("myApp.homeDetail",[]).config(["$stateProvider",function(o){o.state("homeDetail",{url:"/homeDetail",templateUrl:"homeDetail.html",controller:"homeDetailController"})}]).controller("homeDetailController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.integral",[]).config(["$stateProvider",function(o){o.state("tabs.integral",{url:"/integral",views:{"tabs-integral":{templateUrl:"integral.html",controller:"integralController"}}})}]).controller("integralController",["$scope","$ionicModal","$ionicViewSwitcher","$location","$timeout","HttpFactory",function(o,e,n,r,t,l){o.integral={bannumArray:[],goodsArray:[]},o.slidBox=!0;var a=function(){o.slidBox=!1;var e="http://114.112.94.166/sunny/wap/api/getGoods";l.getData(e).then(function(e){console.log(e),o.slidBox=!0,o.integral.bannumArray=e.bannerData,console.log(o.integral.bannumArray),o.integral.goodsArray=e.goodsData,console.log(o.integral.goodsArray)})};a(),o.doRefresh=function(){a(),o.$broadcast("scroll.refreshComplete")},o.isShowInfinite=!0,o.loadMore=function(){url="http://114.112.94.166/sunny/wap/api/getGoods",l.getData(url).then(function(e){o.integral.goodsArray=o.integral.goodsArray.concat(e.goodsData)}),o.$broadcast("scroll.infiniteScrollComplete")},o.goToHomeDetail=function(){r.path("/homeDetail"),n.nextDirection("forward")};var s=angular.element(document.getElementById("rong-widget-minbtn"));o.number=1,o.addBtn=function(){o.number++,o.number>=o.goods.goods_number&&(o.number=o.goods.goods_number)},o.reduceBtn=function(){o.number--,o.number<=1&&(o.number=1)},e.fromTemplateUrl("modalCart.html",{scope:o,animation:"slide-in-down"}).then(function(e){o.modal=e}),o.openModal=function(e){o.modal.show(),o.goods=e,s.css("display","none")},o.closeModal=function(){o.modal.hide(),t(function(){s.css("display","block")},300)},o.$on("$destroy",function(){o.modal.remove()}),o.doSearch=function(o){o?console.log("搜索关键字为："+o):console.log("搜索值为空")},o.addToShopCart=function(){console.log("加入购物车")},o.purchaseNow=function(){console.log("立即购买")}}]),angular.module("myApp.league",[]).config(["$stateProvider",function(o){o.state("tabs.league",{url:"/league",views:{"tabs-league":{templateUrl:"league.html",controller:"leagueController"}}})}]).controller("leagueController",["$scope","HttpFactory",function(o,e){var n="http://114.112.94.166/sunny/wap/api/franchise";e.getData(n).then(function(e){o.leagueArray=e.data,console.log(o.leagueArray)})}]),angular.module("myApp.personAddress",[]).config(["$stateProvider",function(o){o.state("personAddress",{url:"/personAddress",templateUrl:"personAddress.html",controller:"personAddressController"})}]).controller("personAddressController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.personCollect",[]).config(["$stateProvider",function(o){o.state("personCollect",{url:"/personCollect",templateUrl:"personCollect.html",controller:"personCollectController"})}]).controller("personCollectController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.personConcern",[]).config(["$stateProvider",function(o){o.state("personConcern",{url:"/personConcern",templateUrl:"personConcern.html",controller:"personConcernController"})}]).controller("personConcernController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.person",[]).config(["$stateProvider",function(o){o.state("tabs.person",{url:"/person",views:{"tabs-person":{templateUrl:"person.html",controller:"personController"}}})}]).controller("personController",["$scope","$state","$ionicViewSwitcher",function(o,e,n){o.person={userName:"你有梦想吗?",creditNum:"3800"},o.showOrder=function(){e.go("personOrder"),n.nextDirection("forward"),console.log("我的订单")},o.showCollect=function(){e.go("personCollect"),n.nextDirection("forward"),console.log("我的收藏")},o.showShoppingCar=function(){e.go("personShoppingCar"),n.nextDirection("forward"),console.log("我的购物车")},o.showIntegral=function(){e.go("personIntegral"),n.nextDirection("forward"),console.log("我的积分")},o.showAddress=function(){e.go("personAddress"),n.nextDirection("forward"),console.log("我的收货地址")},o.showPay=function(){e.go("personPay"),n.nextDirection("forward"),console.log("我的支付记录")},o.showConcern=function(){e.go("personConcern"),n.nextDirection("forward"),console.log("我的推荐")}}]),angular.module("myApp.personIntegral",[]).config(["$stateProvider",function(o){o.state("personIntegral",{url:"/personIntegral",templateUrl:"personIntegral.html",controller:"personIntegralController"})}]).controller("personIntegralController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.personOrder",[]).config(["$stateProvider",function(o){o.state("personOrder",{url:"/personOrder",templateUrl:"personOrder.html",controller:"personOrderController"})}]).controller("personOrderController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.personPay",[]).config(["$stateProvider",function(o){o.state("personPay",{url:"/personPay",templateUrl:"personPay.html",controller:"personPayController"})}]).controller("personPayController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.personShoppingCar",[]).config(["$stateProvider",function(o){o.state("personShoppingCar",{url:"/personShoppingCar",templateUrl:"personShoppingCar.html",controller:"personShoppingCarController"})}]).controller("personShoppingCarController",["$scope",function(o){o.goBack=function(){window.history.go(-1)}}]),angular.module("myApp.tabs",["RongWebIMWidget"]).config(["$stateProvider",function(o){}]).controller("tabsController",["$scope","$rootScope","$state","RongCustomerService",function(o,e,n,r){var t=document.body.offsetWidth,l=document.body.offsetHeight;r.init({appkey:"n19jmcy5n1aw9",token:"5wPyilUqfiVCKuenjsJMSRqsXqSVwrXS3ow63aC1R0gP1PRKFnyhlYCqB/LQOY1KaZWOXMFfVTN6evEm15oPpg==",customerServiceId:"KEFU148301012322381",style:{width:t,height:l},position:r.Position.right,reminder:" ",onSuccess:function(){var o=angular.element(document.getElementById("rong-widget-minbtn"));o.css("bottom","80px"),o.css("right","30px");var r=angular.element(document.getElementById("rong-sendBtn"));r.css("backgroundColor","deepskyblue");var t=angular.element(document.querySelector(".rongcloud-kefuChat"));t.css({background:'url("../images/icon.png")',backgroundPosition:"-75px"}),o.on("click",function(){e.hideTabs=!0}),RongWebIMWidget.onClose=function(){e.hideTabs=!1,n.reload()}}}),o.$on("$stateChangeSuccess",function(o,e){var n=angular.element(document.querySelector("#rong-widget-minbtn "));switch(e.url){case"/home":n.css("display","block");break;case"/integral":n.css("display","block");break;case"/homeDetail":n.css("display","block");break;case"/league":n.css("display","none");break;case"/person":n.css("display","none");break;default:n.css("display","none")}})}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(o,e){return{getData:function(n,r){if(n){var t=e.defer();return r=r?r:"GET",o({url:n,method:r,timeout:2e4}).then(function(o){o=o.data,t.resolve(o)},function(o){t.reject(o)}),t.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mgSlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},templateUrl:"slideBox.html",controller:["$scope","$ionicSlideBoxDelegate","$element",function(o,e,n){o.goToDetailView=function(o){console.log("进入详情页"+o)},o.$watch("sourceArray",function(e,n){e&&e.length&&(o.isShowSlideBox=!0)}),e.$getByHandle("mainSlideBox").enableSlide(!1),o.drag=function(o){e.$getByHandle("mainSlideBox").enableSlide(!1),o.stopPropagation()}}],replace:!0,link:function(o,e,n){}}}]);